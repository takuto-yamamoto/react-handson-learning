# メモ

- Suspense は最も新しく不確定な要素

  - すべてのアプリケーションで導入すべき機能ではない（導入しない方が良い場合もある）
  - 多くの場合カスタムフックで解決できるし、後方互換性の問題もある

- エラーバウンダリ

  - あるコンポーネントで例外が発生してもアプリケーション全体に影響が及ばないようにする
  - 子コンポーネントで発生した例外を一手に引き受ける特別なコンポーネント
  - children で例外が発生した場合に、fallback に設定したエラーコンポーネントを表示可能

- コードスプリッティング

  - lazy import で初回コンポーネントレンダリングまでソースダウンロードを遅らせることが可能
  - コンポーネントの取得中にも Loading 画面を出すことでユーザー負荷の低いアプリケーションを実装可能

- Sunspense コンポーネント

  - children のロードが完了するまで fallback のコンポーネントを表示する（children は非同期操作 or Lazy コンポーネント）
  - ロードが完了すると fallback コンポーネントをアンマウントして children をマウントする
  - ErrorBoundary と組み合わせることで非同期 Loading の 3 ステータスに対応可能
  - throw で Promise を投げれば、catch した promise を pending としてコントロールできる

- Fiber
  - DOM の更新個所を細分し、メインスレッドをブロックしないように小さく処理していく
  - DOM 更新個所の検知と DOM の描画のモジュールを分離させ、いくつかのレンダリングライブラリで再利用可能になった
