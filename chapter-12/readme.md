# メモ

- クライアントとサーバの HTTP リクエスト遅延を最小化するために、isomorphic な設計が必要

  - SPA の初回読み込み時間を短縮するための SSR
  - 検索エンジン最適化（SEO）問題の解消

- アイソモーフィックとユニバーサル

  - アイソモーフィック = 複数のプラットフォーム（ブラウザ and Node.js）でレンダリング可能
  - ユニバーサル = 複数のプラットフォーム（ブラウザ and Node.js）で実行可能
  - isomorphic にしておくことで SSR が可能

- React に置ける SSR

  - ReactDOMServer.renderToString でサーバ側で HTML 文字列を生成し、レスポンスを返す
  - react.hydrate で SSR の静的ページを一旦写しつつ、後から JS の動的なページに差し替えることが可能
  - 動的ページのローディング中は静的ページが表示されているため、UX が良い

- サーバサイドは別途ビルドが必要

  - webpack 及び webpack 経由で Babel を使用

- Next.js
  - 外部のデータに依存しないページは基本的に自動で静的/動的を最適化してくれる & CDN キャッシュもしてくれる
  - 依存するデータはサーバサイドレンダリング + 動的データ取得
  - Gatsby による静的サイト構築もあつい
